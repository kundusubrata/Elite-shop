"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[685],{89:(e,s,a)=>{a.d(s,{A:()=>r});a(5043);var i=a(5475),t=a(579);const r=e=>{let{shipping:s,confirmOrder:a,payment:r}=e;return(0,t.jsxs)("div",{className:"checkout-progress d-flex justify-content-center mt-5",children:[s?(0,t.jsxs)(i.N_,{to:"/shipping",className:"float-right",children:[(0,t.jsx)("div",{className:"triangle2-active"}),(0,t.jsx)("div",{className:"step active-step",children:"Shipping"}),(0,t.jsx)("div",{className:"triangle-active"})]}):(0,t.jsxs)(i.N_,{to:"#!",className:"float-right",disabled:!0,children:[(0,t.jsx)("div",{className:"triangle2-incomplete"}),(0,t.jsx)("div",{className:"step incomplete",children:"Shipping"}),(0,t.jsx)("div",{className:"triangle-incomplete"})]}),a?(0,t.jsxs)(i.N_,{to:"/confirm_order",className:"float-right",children:[(0,t.jsx)("div",{className:"triangle2-active"}),(0,t.jsx)("div",{className:"step active-step",children:"Confirm Order"}),(0,t.jsx)("div",{className:"triangle-active"})]}):(0,t.jsxs)(i.N_,{to:"#!",className:"float-right",disabled:!0,children:[(0,t.jsx)("div",{className:"triangle2-incomplete"}),(0,t.jsx)("div",{className:"step incomplete",children:"Confirm Order"}),(0,t.jsx)("div",{className:"triangle-incomplete"})]}),r?(0,t.jsxs)(i.N_,{to:"/payment_method",className:"float-right",children:[(0,t.jsx)("div",{className:"triangle2-active"}),(0,t.jsx)("div",{className:"step active-step",children:"Payment"}),(0,t.jsx)("div",{className:"triangle-active"})]}):(0,t.jsxs)(i.N_,{to:"#!",className:"float-right",disabled:!0,children:[(0,t.jsx)("div",{className:"triangle2-incomplete"}),(0,t.jsx)("div",{className:"step incomplete",children:"Payment"}),(0,t.jsx)("div",{className:"triangle-incomplete"})]})]})}},685:(e,s,a)=>{a.r(s),a.d(s,{default:()=>p});var i=a(5043),t=a(9269),r=a(3003),c=a(89),l=a(8651),n=a(3216),d=a(8856),o=a(2339),m=a(579);const p=()=>{const[e,s]=(0,i.useState)(""),a=(0,n.Zp)(),{shippingInfo:p,cartItems:h}=(0,r.d4)((e=>e.cart)),[v,{error:x,isSuccess:u}]=(0,d.Rg)(),[N,{data:j,error:g,isLoading:f}]=(0,d.AP)();(0,i.useEffect)((()=>{var e;(j&&(window.location.href=null===j||void 0===j?void 0:j.url),g)&&o.Ay.error(null===g||void 0===g||null===(e=g.data)||void 0===e?void 0:e.message)}),[j,g,a]),(0,i.useEffect)((()=>{var e;x&&o.Ay.error(null===x||void 0===x||null===(e=x.data)||void 0===e?void 0:e.message);u&&a("/me/orders?order_success=true")}),[x,u,a]);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(t.A,{title:"Payment Method"}),(0,m.jsx)(c.A,{shipping:!0,confirmOrder:!0,payment:!0}),(0,m.jsx)("div",{className:"row wrapper",children:(0,m.jsx)("div",{className:"col-10 col-lg-5",children:(0,m.jsxs)("form",{className:"shadow rounded bg-body",onSubmit:s=>{s.preventDefault();const{itemsPrice:a,shippingPrice:i,taxPrice:t,totalPrice:r}=(0,l.Q)(h);if("COD"===e){v({shippingInfo:p,orderItems:h,itemsPrice:a,shippingAmount:i,taxAmount:t,totalAmount:r,paymentInfo:{status:"Not Paid"},paymentMethod:"COD"})}if("Card"===e){N({shippingInfo:p,orderItems:h,itemsPrice:a,shippingAmount:i,taxAmount:t,totalAmount:r})}},children:[(0,m.jsx)("h2",{className:"mb-4",children:"Select Payment Method"}),(0,m.jsxs)("div",{className:"form-check",children:[(0,m.jsx)("input",{className:"form-check-input",type:"radio",name:"payment_mode",id:"codradio",value:"COD",onChange:e=>s("COD")}),(0,m.jsx)("label",{className:"form-check-label",htmlFor:"codradio",children:"Cash on Delivery"})]}),(0,m.jsxs)("div",{className:"form-check",children:[(0,m.jsx)("input",{className:"form-check-input",type:"radio",name:"payment_mode",id:"cardradio",value:"Card",onChange:e=>s("Card")}),(0,m.jsx)("label",{className:"form-check-label",htmlFor:"cardradio",children:"Card - VISA, MasterCard"})]}),(0,m.jsx)("button",{id:"shipping_btn",type:"submit",className:"btn py-2 w-100",disabled:f,children:"CONTINUE"})]})})})]})}},8651:(e,s,a)=>{a.d(s,{Q:()=>t,c:()=>i});const i=(e,s,a)=>{const i=e.has(s);return a&&i?e.set(s,a):a?e.append(s,a):i&&e.delete(s),e},t=e=>{const s=null===e||void 0===e?void 0:e.reduce(((e,s)=>e+s.price*s.quantity),0),a=s>200?0:25,i=Number((.15*s).toFixed(2)),t=(s+a+i).toFixed(2);return{itemsPrice:Number(s).toFixed(2),shippingPrice:a,taxPrice:i,totalPrice:t}}},9269:(e,s,a)=>{a.d(s,{A:()=>r});a(5043);var i=a(1591),t=a(579);const r=e=>{let{title:s}=e;return(0,t.jsx)(i.m,{children:(0,t.jsx)("title",{children:"".concat(s," - Elite Shop")})})}}}]);
//# sourceMappingURL=685.f5a10fd3.chunk.js.map