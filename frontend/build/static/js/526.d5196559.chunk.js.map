{"version":3,"file":"static/js/526.d5196559.chunk.js","mappings":"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","sources":["components/admin/UploadImages.jsx","components/layout/AdminLayout.jsx","components/layout/MetaData.jsx","components/layout/SideMenu.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\nimport { toast } from \"react-hot-toast\";\r\n\r\nimport MetaData from \"../layout/MetaData\";\r\nimport AdminLayout from \"../layout/AdminLayout\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport {\r\n  useDeleteProductImageMutation,\r\n  useGetProductDetailsQuery,\r\n  useUploadProductImagesMutation,\r\n} from \"../../redux/api/productsApi\";\r\n\r\nconst UploadImages = () => {\r\n  const fileInputRef = useRef(null);\r\n  const params = useParams();\r\n  const navigate = useNavigate();\r\n\r\n  const [images, setImages] = useState([]);\r\n  const [imagesPreview, setImagesPreview] = useState([]);\r\n  const [uploadedImages, setUploadedImages] = useState([]);\r\n\r\n  const [uploadProductImages, { isLoading, error, isSuccess }] =\r\n    useUploadProductImagesMutation();\r\n\r\n  const [\r\n    deleteProductImage,\r\n    {\r\n      isLoading: isDeleteLoading,\r\n      error: deleteError,\r\n    },\r\n  ] = useDeleteProductImageMutation();\r\n\r\n  const { data } = useGetProductDetailsQuery(params?.id);\r\n\r\n  useEffect(() => {\r\n    if (data?.product) {\r\n      setUploadedImages(data?.product?.images);\r\n    }\r\n\r\n    if (error) {\r\n      toast.error(error?.data?.message);\r\n    }\r\n\r\n    if (deleteError) {\r\n      toast.error(deleteError?.data?.message);\r\n    }\r\n\r\n    if (isSuccess) {\r\n      setImagesPreview([]);\r\n      toast.success(\"Images Uploaded\");\r\n      navigate(\"/admin/products\");\r\n    }\r\n  }, [data, error, isSuccess, deleteError,navigate]);\r\n\r\n  const onChange = (e) => {\r\n    const files = Array.from(e.target.files);\r\n\r\n    files.forEach((file) => {\r\n      const reader = new FileReader();\r\n\r\n      reader.onload = () => {\r\n        if (reader.readyState === 2) {\r\n          setImagesPreview((oldArray) => [...oldArray, reader.result]);\r\n          setImages((oldArray) => [...oldArray, reader.result]);\r\n        }\r\n      };\r\n\r\n      reader.readAsDataURL(file);\r\n    });\r\n  };\r\n\r\n  const handleResetFileInput = () => {\r\n    if (fileInputRef.current) {\r\n      fileInputRef.current.value = \"\";\r\n    }\r\n  };\r\n\r\n  const handleImagePreviewDelete = (image) => {\r\n    const filteredImagesPreview = imagesPreview.filter((img) => img !== image);\r\n\r\n    setImages(filteredImagesPreview);\r\n    setImagesPreview(filteredImagesPreview);\r\n  };\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n\r\n    uploadProductImages({ id: params?.id, body: { images } });\r\n  };\r\n\r\n  const deleteImage = (imgId) => {\r\n    deleteProductImage({ id: params?.id, body: { imgId } });\r\n  };\r\n\r\n  return (\r\n    <AdminLayout>\r\n      <MetaData title={\"Upload Product Images\"} />\r\n      <div className=\"row wrapper\">\r\n        <div className=\"col-10 col-lg-8 mt-5 mt-lg-0\">\r\n          <form\r\n            className=\"shadow rounded bg-body\"\r\n            enctype=\"multipart/form-data\"\r\n            onSubmit={submitHandler}\r\n          >\r\n            <h2 className=\"mb-4\">Upload Product Images</h2>\r\n\r\n            <div className=\"mb-3\">\r\n              <label htmlFor=\"customFile\" className=\"form-label\">\r\n                Choose Images\r\n              </label>\r\n\r\n              <div className=\"custom-file\">\r\n                <input\r\n                  ref={fileInputRef}\r\n                  type=\"file\"\r\n                  name=\"product_images\"\r\n                  className=\"form-control\"\r\n                  id=\"customFile\"\r\n                  multiple\r\n                  onChange={onChange}\r\n                  onClick={handleResetFileInput}\r\n                />\r\n              </div>\r\n\r\n              {imagesPreview?.length > 0 && (\r\n                <div className=\"new-images my-4\">\r\n                  <p className=\"text-warning\">New Images:</p>\r\n                  <div className=\"row mt-4\">\r\n                    {imagesPreview?.map((img) => (\r\n                      <div className=\"col-md-3 mt-2\">\r\n                        <div className=\"card\">\r\n                          <img\r\n                            src={img}\r\n                            alt=\"Card\"\r\n                            className=\"card-img-top p-2\"\r\n                            style={{ width: \"100%\", height: \"80px\" }}\r\n                          />\r\n                          <button\r\n                            style={{\r\n                              backgroundColor: \"#dc3545\",\r\n                              borderColor: \"#dc3545\",\r\n                            }}\r\n                            type=\"button\"\r\n                            className=\"btn btn-block btn-danger cross-button mt-1 py-0\"\r\n                            onClick={() => handleImagePreviewDelete(img)}\r\n                          >\r\n                            <i className=\"fa fa-times\"></i>\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {uploadedImages?.length > 0 && (\r\n                <div className=\"uploaded-images my-4\">\r\n                  <p className=\"text-success\">Product Uploaded Images:</p>\r\n                  <div className=\"row mt-1\">\r\n                    {uploadedImages?.map((img) => (\r\n                      <div className=\"col-md-3 mt-2\">\r\n                        <div className=\"card\">\r\n                          <img\r\n                            src={img?.url}\r\n                            alt=\"Card\"\r\n                            className=\"card-img-top p-2\"\r\n                            style={{ width: \"100%\", height: \"80px\" }}\r\n                          />\r\n                          <button\r\n                            style={{\r\n                              backgroundColor: \"#dc3545\",\r\n                              borderColor: \"#dc3545\",\r\n                            }}\r\n                            className=\"btn btn-block btn-danger cross-button mt-1 py-0\"\r\n                            type=\"button\"\r\n                            disabled={isLoading || isDeleteLoading}\r\n                            onClick={() => deleteImage(img?.public_id)}\r\n                          >\r\n                            <i className=\"fa fa-trash\"></i>\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            <button\r\n              id=\"register_button\"\r\n              type=\"submit\"\r\n              className=\"btn w-100 py-2\"\r\n              disabled={isLoading || isDeleteLoading}\r\n            >\r\n              {isLoading ? \"Uploading...\" : \"Upload\"}\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </AdminLayout>\r\n  );\r\n};\r\n\r\nexport default UploadImages;\r\n","import React from \"react\";\r\nimport SideMenu from \"./SideMenu\";\r\n\r\nconst AdminLayout = ({ children }) => {\r\n  const menuItems = [\r\n    {\r\n      name: \"Dashboard\",\r\n      url: \"/admin/dashboard\",\r\n      icon: \"fas fa-tachometer-alt\",\r\n    },\r\n    {\r\n      name: \"New Product\",\r\n      url: \"/admin/product/new\",\r\n      icon: \"fas fa-plus\",\r\n    },\r\n    {\r\n      name: \"Products\",\r\n      url: \"/admin/products\",\r\n      icon: \"fab fa-product-hunt\",\r\n    },\r\n    {\r\n      name: \"Orders\",\r\n      url: \"/admin/orders\",\r\n      icon: \"fas fa-receipt\",\r\n    },\r\n    {\r\n      name: \"Users\",\r\n      url: \"/admin/users\",\r\n      icon: \"fas fa-user\",\r\n    },\r\n    {\r\n      name: \"Reviews\",\r\n      url: \"/admin/reviews\",\r\n      icon: \"fas fa-star\",\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"mt-2 mb-4 py-4\">\r\n        <h2 className=\"text-center fw-bolder\">Admin Dashboard</h2>\r\n      </div>\r\n\r\n      <div className=\"row justify-content-around\">\r\n        <div className=\"col-12 col-lg-3\">\r\n          <SideMenu menuItems={menuItems} />\r\n        </div>\r\n        <div className=\"col-12 col-lg-8 user-dashboard\">{children}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminLayout;","import React from 'react'\r\nimport {Helmet} from \"react-helmet\"\r\n\r\nconst MetaData = ({title}) => {\r\n  return (\r\n    <Helmet>\r\n        <title>\r\n            {`${title} - Elite Shop`}\r\n        </title>\r\n    </Helmet>\r\n  )\r\n}\r\n\r\nexport default MetaData","import React, { useState } from \"react\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\n\r\nconst SideMenu = ({ menuItems }) => {\r\n  const location = useLocation();\r\n\r\n  const [activeMenuItem, setActiveMenuItem] = useState(location.pathname);\r\n\r\n  const handleMenuItemClick = (menuItemUrl) => {\r\n    setActiveMenuItem(menuItemUrl);\r\n  };\r\n  return (\r\n    <div className=\"list-group mt-5 pl-4\">\r\n      {menuItems?.map((menuItem, index) => (\r\n        <Link\r\n          key={index}\r\n          to={menuItem.url}\r\n          className={`fw-bold list-group-item list-group-item-action ${\r\n            activeMenuItem.includes(menuItem.url) ? \"active\" : \"\"\r\n          }`}\r\n          onClick={() => handleMenuItemClick(menuItem.url)}\r\n          aria-current={\r\n            activeMenuItem.includes(menuItem.url) ? \"true\" : \"false\"\r\n          }\r\n        >\r\n          <i className={`${menuItem.icon} fa-fw pe-2`}></i> {menuItem.name}\r\n        </Link>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SideMenu;\r\n"],"names":["UploadImages","fileInputRef","useRef","params","useParams","navigate","useNavigate","images","setImages","useState","imagesPreview","setImagesPreview","uploadedImages","setUploadedImages","uploadProductImages","isLoading","error","isSuccess","useUploadProductImagesMutation","deleteProductImage","isDeleteLoading","deleteError","useDeleteProductImageMutation","data","useGetProductDetailsQuery","id","useEffect","_data$product","_error$data","_deleteError$data","product","toast","message","success","_jsxs","AdminLayout","children","_jsx","MetaData","title","className","enctype","onSubmit","e","preventDefault","body","htmlFor","ref","type","name","multiple","onChange","Array","from","target","files","forEach","file","reader","FileReader","onload","readyState","oldArray","result","readAsDataURL","onClick","handleResetFileInput","current","value","length","map","img","src","alt","style","width","height","backgroundColor","borderColor","image","filteredImagesPreview","filter","handleImagePreviewDelete","url","disabled","deleteImage","imgId","public_id","_ref","SideMenu","menuItems","icon","Helmet","concat","location","useLocation","activeMenuItem","setActiveMenuItem","pathname","menuItem","index","Link","to","includes","handleMenuItemClick","menuItemUrl"],"sourceRoot":""}