"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[526],{4526:(e,s,a)=>{a.r(s),a.d(s,{default:()=>n});var l=a(5043),d=a(2339),r=a(9269),i=a(9959),t=a(3216),o=a(438),c=a(579);const n=()=>{const e=(0,l.useRef)(null),s=(0,t.g)(),a=(0,t.Zp)(),[n,m]=(0,l.useState)([]),[u,v]=(0,l.useState)([]),[h,p]=(0,l.useState)([]),[b,{isLoading:x,error:f,isSuccess:g}]=(0,o.Fm)(),[j,{isLoading:N,error:w}]=(0,o.oR)(),{data:y}=(0,o.N4)(null===s||void 0===s?void 0:s.id);(0,l.useEffect)((()=>{var e,s,l;null!==y&&void 0!==y&&y.product&&p(null===y||void 0===y||null===(e=y.product)||void 0===e?void 0:e.images);f&&d.oR.error(null===f||void 0===f||null===(s=f.data)||void 0===s?void 0:s.message);w&&d.oR.error(null===w||void 0===w||null===(l=w.data)||void 0===l?void 0:l.message);g&&(v([]),d.oR.success("Images Uploaded"),a("/admin/products"))}),[y,f,g,w,a]);return(0,c.jsxs)(i.A,{children:[(0,c.jsx)(r.A,{title:"Upload Product Images"}),(0,c.jsx)("div",{className:"row wrapper",children:(0,c.jsx)("div",{className:"col-10 col-lg-8 mt-5 mt-lg-0",children:(0,c.jsxs)("form",{className:"shadow rounded bg-body",enctype:"multipart/form-data",onSubmit:e=>{e.preventDefault(),b({id:null===s||void 0===s?void 0:s.id,body:{images:n}})},children:[(0,c.jsx)("h2",{className:"mb-4",children:"Upload Product Images"}),(0,c.jsxs)("div",{className:"mb-3",children:[(0,c.jsx)("label",{htmlFor:"customFile",className:"form-label",children:"Choose Images"}),(0,c.jsx)("div",{className:"custom-file",children:(0,c.jsx)("input",{ref:e,type:"file",name:"product_images",className:"form-control",id:"customFile",multiple:!0,onChange:e=>{Array.from(e.target.files).forEach((e=>{const s=new FileReader;s.onload=()=>{2===s.readyState&&(v((e=>[...e,s.result])),m((e=>[...e,s.result])))},s.readAsDataURL(e)}))},onClick:()=>{e.current&&(e.current.value="")}})}),(null===u||void 0===u?void 0:u.length)>0&&(0,c.jsxs)("div",{className:"new-images my-4",children:[(0,c.jsx)("p",{className:"text-warning",children:"New Images:"}),(0,c.jsx)("div",{className:"row mt-4",children:null===u||void 0===u?void 0:u.map((e=>(0,c.jsx)("div",{className:"col-md-3 mt-2",children:(0,c.jsxs)("div",{className:"card",children:[(0,c.jsx)("img",{src:e,alt:"Card",className:"card-img-top p-2",style:{width:"100%",height:"80px"}}),(0,c.jsx)("button",{style:{backgroundColor:"#dc3545",borderColor:"#dc3545"},type:"button",className:"btn btn-block btn-danger cross-button mt-1 py-0",onClick:()=>(e=>{const s=u.filter((s=>s!==e));m(s),v(s)})(e),children:(0,c.jsx)("i",{className:"fa fa-times"})})]})})))})]}),(null===h||void 0===h?void 0:h.length)>0&&(0,c.jsxs)("div",{className:"uploaded-images my-4",children:[(0,c.jsx)("p",{className:"text-success",children:"Product Uploaded Images:"}),(0,c.jsx)("div",{className:"row mt-1",children:null===h||void 0===h?void 0:h.map((e=>(0,c.jsx)("div",{className:"col-md-3 mt-2",children:(0,c.jsxs)("div",{className:"card",children:[(0,c.jsx)("img",{src:null===e||void 0===e?void 0:e.url,alt:"Card",className:"card-img-top p-2",style:{width:"100%",height:"80px"}}),(0,c.jsx)("button",{style:{backgroundColor:"#dc3545",borderColor:"#dc3545"},className:"btn btn-block btn-danger cross-button mt-1 py-0",type:"button",disabled:x||N,onClick:()=>{return a=null===e||void 0===e?void 0:e.public_id,void j({id:null===s||void 0===s?void 0:s.id,body:{imgId:a}});var a},children:(0,c.jsx)("i",{className:"fa fa-trash"})})]})})))})]})]}),(0,c.jsx)("button",{id:"register_button",type:"submit",className:"btn w-100 py-2",disabled:x||N,children:x?"Uploading...":"Upload"})]})})})]})}},9959:(e,s,a)=>{a.d(s,{A:()=>r});a(5043);var l=a(2190),d=a(579);const r=e=>{let{children:s}=e;return(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"mt-2 mb-4 py-4",children:(0,d.jsx)("h2",{className:"text-center fw-bolder",children:"Admin Dashboard"})}),(0,d.jsxs)("div",{className:"row justify-content-around",children:[(0,d.jsx)("div",{className:"col-12 col-lg-3",children:(0,d.jsx)(l.A,{menuItems:[{name:"Dashboard",url:"/admin/dashboard",icon:"fas fa-tachometer-alt"},{name:"New Product",url:"/admin/product/new",icon:"fas fa-plus"},{name:"Products",url:"/admin/products",icon:"fab fa-product-hunt"},{name:"Orders",url:"/admin/orders",icon:"fas fa-receipt"},{name:"Users",url:"/admin/users",icon:"fas fa-user"},{name:"Reviews",url:"/admin/reviews",icon:"fas fa-star"}]})}),(0,d.jsx)("div",{className:"col-12 col-lg-8 user-dashboard",children:s})]})]})}},9269:(e,s,a)=>{a.d(s,{A:()=>r});a(5043);var l=a(1591),d=a(579);const r=e=>{let{title:s}=e;return(0,d.jsx)(l.m,{children:(0,d.jsx)("title",{children:"".concat(s," - Elite Shop")})})}},2190:(e,s,a)=>{a.d(s,{A:()=>t});var l=a(5043),d=a(3216),r=a(5475),i=a(579);const t=e=>{let{menuItems:s}=e;const a=(0,d.zy)(),[t,o]=(0,l.useState)(a.pathname);return(0,i.jsx)("div",{className:"list-group mt-5 pl-4",children:null===s||void 0===s?void 0:s.map(((e,s)=>(0,i.jsxs)(r.N_,{to:e.url,className:"fw-bold list-group-item list-group-item-action ".concat(t.includes(e.url)?"active":""),onClick:()=>{return s=e.url,void o(s);var s},"aria-current":t.includes(e.url)?"true":"false",children:[(0,i.jsx)("i",{className:"".concat(e.icon," fa-fw pe-2")})," ",e.name]},s)))})}}}]);
//# sourceMappingURL=526.d5196559.chunk.js.map