"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[838,75],{9269:(e,i,s)=>{s.d(i,{A:()=>a});s(5043);var l=s(1591),d=s(579);const a=e=>{let{title:i}=e;return(0,d.jsx)(l.m,{children:(0,d.jsx)("title",{children:"".concat(i," - Elite Shop")})})}},3075:(e,i,s)=>{s.r(i),s.d(i,{default:()=>d});s(5043);var l=s(579);const d=()=>(0,l.jsxs)("div",{children:[" ",(0,l.jsxs)("div",{className:"row",children:[(0,l.jsx)("div",{className:"d-flex justify-content-center page-not-found-wrapper",children:(0,l.jsx)("img",{src:"/images/404.svg",height:"550",width:"550",alt:"404_not_found"})}),(0,l.jsxs)("h5",{className:"text-center",children:["Page Not Found. Go to ",(0,l.jsx)("a",{href:"/",children:"Homepage"})]})]})]})},3838:(e,i,s)=>{s.r(i),s.d(i,{default:()=>g});var l=s(5043),d=s(438),a=s(3567),r=s(2339),n=s(3216),o=s(5475),t=s(7282),c=s(3003),u=s(6253),v=s(9269),m=s(579);const h=e=>{let{productId:i}=e;const[s,a]=(0,l.useState)(0),[n,o]=(0,l.useState)(""),[c,{error:u,isSuccess:v}]=(0,d.D)(),{data:h}=(0,d.bu)(i),x=null===h||void 0===h?void 0:h.canReview;(0,l.useEffect)((()=>{var e;u&&r.Ay.error(null===u||void 0===u||null===(e=u.data)||void 0===e?void 0:e.message);v&&r.Ay.success("Review Posted")}),[u,v]);return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("div",{children:[x&&(0,m.jsx)("button",{id:"review_btn",type:"button",class:"btn btn-primary mt-4","data-bs-toggle":"modal","data-bs-target":"#ratingModal",children:"Submit Your Review"}),(0,m.jsx)("div",{className:"row mt-2 mb-5",children:(0,m.jsx)("div",{className:"rating w-50",children:(0,m.jsx)("div",{className:"modal fade",id:"ratingModal",tabIndex:"-1",role:"dialog","aria-labelledby":"ratingModalLabel","aria-hidden":"true",children:(0,m.jsx)("div",{className:"modal-dialog",role:"document",children:(0,m.jsxs)("div",{className:"modal-content",children:[(0,m.jsxs)("div",{className:"modal-header",children:[(0,m.jsx)("h5",{className:"modal-title",id:"ratingModalLabel",children:"Submit Review"}),(0,m.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),(0,m.jsxs)("div",{className:"modal-body",children:[(0,m.jsx)(t.A,{rating:s,starRatedColor:"#ffb829",numberOfStars:5,name:"rating",changeRating:e=>a(e)}),(0,m.jsx)("textarea",{name:"review",id:"review",className:"form-control mt-4",placeholder:"Enter your comment",value:n,onChange:e=>o(e.target.value)}),(0,m.jsx)("button",{id:"new_review_btn",className:"btn w-100 my-4 px-4","data-bs-dismiss":"modal","aria-label":"Close",onClick:()=>{c({rating:s,comment:n,productId:i})},children:"Submit"})]})]})})})})})]})})},x=e=>{let{reviews:i}=e;return(0,m.jsx)("div",{children:(0,m.jsxs)("div",{className:"reviews w-75",children:[(0,m.jsx)("h3",{children:"Other's Reviews:"}),(0,m.jsx)("hr",{}),null===i||void 0===i?void 0:i.map((e=>{var i,s,l,d;return(0,m.jsxs)("div",{className:"review-card my-3",children:[(0,m.jsxs)("div",{className:"row",children:[(0,m.jsx)("div",{className:"col-1",children:(0,m.jsx)("img",{src:null!==e&&void 0!==e&&null!==(i=e.user)&&void 0!==i&&i.avatar?null===e||void 0===e||null===(s=e.user)||void 0===s||null===(l=s.avatar)||void 0===l?void 0:l.url:"/images/default_avatar.jpg",alt:"User Name",width:"50",height:"50",className:"rounded-circle"})}),(0,m.jsxs)("div",{className:"col-11",children:[(0,m.jsx)(t.A,{rating:Number(e.rating),starRatedColor:"#ffb829",numberOfStars:5,name:"rating",starDimension:"24px",starSpacing:"1px"}),(0,m.jsxs)("p",{className:"review_user",children:["by ",null===e||void 0===e||null===(d=e.user)||void 0===d?void 0:d.name]}),(0,m.jsx)("p",{className:"review_comment",children:null===e||void 0===e?void 0:e.comment})]})]}),(0,m.jsx)("hr",{})]},null===e||void 0===e?void 0:e._id)}))]})})};var j=s(3075);const g=()=>{var e,i;const s=(0,n.g)(),g=(0,c.wA)(),[p,b]=(0,l.useState)(1),[N,f]=(0,l.useState)(""),{data:w,isLoading:y,error:k,isError:_}=(0,d.N4)(s.id),S=null===w||void 0===w?void 0:w.product,{isAuthenticated:C}=(0,c.d4)((e=>e.auth));(0,l.useEffect)((()=>{var e;f(null!==S&&void 0!==S&&S.images[0]?null===S||void 0===S||null===(e=S.images[0])||void 0===e?void 0:e.url:"/images/default_product.png")}),[S]),(0,l.useEffect)((()=>{var e;_&&r.Ay.error(null===k||void 0===k||null===(e=k.data)||void 0===e?void 0:e.message)}),[_,k]);return y?(0,m.jsx)(a.A,{}):k&&404===(null===k||void 0===k?void 0:k.status)?(0,m.jsx)(j.default,{}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(v.A,{title:null===S||void 0===S?void 0:S.name}),(0,m.jsxs)("div",{className:"row d-flex justify-content-around",children:[(0,m.jsxs)("div",{className:"col-12 col-lg-5 img-fluid",id:"product_image",children:[(0,m.jsx)("div",{className:"p-3",children:(0,m.jsx)("img",{className:"d-block w-100",src:N,alt:null===S||void 0===S?void 0:S.name,width:"340",height:"390"})}),(0,m.jsx)("div",{className:"row justify-content-start mt-5",children:null===S||void 0===S||null===(e=S.images)||void 0===e?void 0:e.map((e=>(0,m.jsx)("div",{className:"col-2 ms-4 mt-2",children:(0,m.jsx)(o.N_,{role:"button",children:(0,m.jsx)("img",{className:"d-block border rounded p-3 cursor-pointer ".concat((null===e||void 0===e?void 0:e.url)===N?"border-warning border-2":""),height:"100",width:"100",src:null===e||void 0===e?void 0:e.url,alt:null===e||void 0===e?void 0:e.name,onClick:i=>f(e.url)})})},null===e||void 0===e?void 0:e.public_id)))})]}),(0,m.jsxs)("div",{className:"col-12 col-lg-5 mt-5",children:[(0,m.jsx)("h3",{children:null===S||void 0===S?void 0:S.name}),(0,m.jsxs)("p",{id:"product_id",children:["Product #",null===S||void 0===S?void 0:S._id]}),(0,m.jsx)("hr",{}),(0,m.jsxs)("div",{className:"d-flex",children:[(0,m.jsx)(t.A,{rating:null===S||void 0===S?void 0:S.ratings,starRatedColor:"orange",numberOfStars:5,name:"rating",starDimension:"20px",starSpacing:"1px"}),(0,m.jsxs)("span",{id:"no-of-reviews",className:"pt-1 ps-2",children:[" ","(",null===S||void 0===S?void 0:S.numOfReviews," Reviews)"," "]})]}),(0,m.jsx)("hr",{}),(0,m.jsxs)("p",{id:"product_price",children:["$",null===S||void 0===S?void 0:S.price]}),(0,m.jsxs)("div",{className:"stockCounter d-inline",children:[(0,m.jsx)("span",{className:"btn btn-danger minus",onClick:()=>{const e=document.querySelector(".count");if(e.valueAsNumber<=1)return;const i=e.valueAsNumber-1;b(i)},children:"-"}),(0,m.jsx)("input",{type:"number",className:"form-control count d-inline",value:p,readOnly:!0}),(0,m.jsx)("span",{className:"btn btn-primary plus",onClick:()=>{const e=document.querySelector(".count");if(e.valueAsNumber>=(null===S||void 0===S?void 0:S.stock))return;const i=e.valueAsNumber+1;b(i)},children:"+"})]}),(0,m.jsx)("button",{type:"button",id:"cart_btn",className:"btn btn-primary d-inline ms-4",disabled:(null===S||void 0===S?void 0:S.stock)<=0,onClick:()=>{var e;const i={product:null===S||void 0===S?void 0:S._id,name:null===S||void 0===S?void 0:S.name,price:null===S||void 0===S?void 0:S.price,image:null===S||void 0===S||null===(e=S.images[0])||void 0===e?void 0:e.url,stock:null===S||void 0===S?void 0:S.stock,quantity:p};g((0,u.Gt)(i)),r.Ay.success("Item added to Cart")},children:"Add to Cart"}),(0,m.jsx)("hr",{}),(0,m.jsxs)("p",{children:["Status:"," ",(0,m.jsx)("span",{id:"stock_status",className:(null===S||void 0===S?void 0:S.stock)>0?"greenColor":"redColor",children:(null===S||void 0===S?void 0:S.stock)>0?"In Stock":"Out of Stock"})]}),(0,m.jsx)("hr",{}),(0,m.jsx)("h4",{className:"mt-2",children:"Description:"}),(0,m.jsx)("p",{children:null===S||void 0===S?void 0:S.description}),(0,m.jsx)("hr",{}),(0,m.jsxs)("p",{id:"product_seller mb-3",children:["Sold by: ",(0,m.jsx)("strong",{children:null===S||void 0===S?void 0:S.seller})]}),C?(0,m.jsx)(h,{productId:null===S||void 0===S?void 0:S._id}):(0,m.jsx)("div",{className:"alert alert-danger my-5",type:"alert",children:"Login to post your review."})]})]}),(null===S||void 0===S||null===(i=S.reviews)||void 0===i?void 0:i.length)>0&&(0,m.jsx)(x,{reviews:null===S||void 0===S?void 0:S.reviews})]})}}}]);
//# sourceMappingURL=838.3654318c.chunk.js.map